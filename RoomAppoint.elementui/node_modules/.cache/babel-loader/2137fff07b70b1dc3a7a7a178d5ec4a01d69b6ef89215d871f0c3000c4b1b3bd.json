{"ast":null,"code":"import store from '@/store';\nimport { mapGetters } from 'vuex';\nexport default {\n  name: \"IntegralList\",\n  computed: {\n    ...mapGetters(['Token', 'UserInfo', 'RoleType', 'HasUserInfo', 'ColumnType', \"UserId\"])\n  },\n  data() {\n    return {\n      where: {\n        UserId: store.getters.UserId\n      },\n      searchForm: {},\n      //搜索定义的数据对象\n      dataColum: [{\n        key: \"Id\",\n        hidden: true\n      }, {\n        key: \"Title\",\n        title: \"标题\",\n        type: store.getters.ColumnType.SHORTTEXT\n      }, {\n        key: \"UserId\",\n        hidden: true\n      }, {\n        key: \"UserDto.Name\",\n        title: \"用户名称\",\n        type: store.getters.ColumnType.SHORTTEXT\n      }, {\n        key: \"IntegralValue\",\n        title: \"积分值\",\n        type: store.getters.ColumnType.SHORTTEXT\n      }, {\n        key: \"Source\",\n        title: \"来源\",\n        type: store.getters.ColumnType.SHORTTEXT\n      }, {\n        key: \"RelativeCode\",\n        title: \"关联号\",\n        type: store.getters.ColumnType.SHORTTEXT\n      }],\n      formData: {},\n      //保存或者修改定义的数据对象\n      editorShow: false,\n      MyIntegralData: {\n        TotalIntegral: 0\n      }\n    };\n  },\n  created() {\n    this.GetMyIntegralData();\n  },\n  methods: {\n    //返回上一个页面\n    goBack() {\n      this.$router.go(-1);\n    },\n    /**\r\n     * 点击表格搜索按钮会触发\r\n     */\n    async SearchClick() {\n      this.$refs.PaginationTableId.Reload(this.searchForm);\n    },\n    /**\r\n     * 点击清空表单会触发\r\n     */\n    async ResetClick() {\n      this.searchForm = {};\n      this.$refs.PaginationTableId.Reload(this.searchForm);\n    },\n    //得到我的积分数据\n    async GetMyIntegralData() {\n      let {\n        Data\n      } = await this.$Post(\"/Integral/GetMyIntegralData\", {});\n      this.MyIntegralData = Data;\n    },\n    //清空逾期次数\n    async OverdueTimesClear() {\n      let confirm = await this.$comm.ConfirmMessageBox({\n        content: \"你确定要用积分清空逾期次数吗?\"\n      });\n      if (confirm) {\n        let {\n          Data\n        } = await this.$Post(\"/Integral/OverdueTimesClear\", {});\n        this.GetMyIntegralData();\n        this.$refs.PaginationTableId.Reload(this.searchForm);\n      }\n    }\n  }\n};","map":{"version":3,"names":["store","mapGetters","name","computed","data","where","UserId","getters","searchForm","dataColum","key","hidden","title","type","ColumnType","SHORTTEXT","formData","editorShow","MyIntegralData","TotalIntegral","created","GetMyIntegralData","methods","goBack","$router","go","SearchClick","$refs","PaginationTableId","Reload","ResetClick","Data","$Post","OverdueTimesClear","confirm","$comm","ConfirmMessageBox","content"],"sources":["src/views/Front/ComplaintList.vue"],"sourcesContent":["<template>\r\n    <div class=\"app-container\">\r\n        <el-page-header class=\"card margin-top-lg\" @back=\"goBack\" :content=\"我的总积分\">\r\n        </el-page-header>\r\n\r\n\r\n        <el-card class=\"box-card margin-top-lg\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n                <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-search\" @click=\"SearchClick\">搜 索</el-button>\r\n                <el-button type=\"warning\" size=\"mini\" @click=\"ResetClick\" icon=\"el-icon-s-promotion\">重 置</el-button>\r\n            </div>\r\n            <div class=\"tb-body\">\r\n                <el-form ref=\"searchFormRef\" :model=\"searchForm\" :inline=\"true\" label-width=\"120px\" :style=\"`flex:1;`\">\r\n                    <el-form-item label=\"标题\" prop=\"TitleLike\">\r\n                        <el-input v-model.trim=\"searchForm.TitleLike\" placeholder=\"请输入标题\" :clearable=\"true\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"来源\" prop=\"SourceLike\">\r\n                        <el-input v-model.trim=\"searchForm.SourceLike\" placeholder=\"请输入来源\" :clearable=\"true\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"关联号\" prop=\"RelativeCodeLike\">\r\n                        <el-input v-model.trim=\"searchForm.RelativeCodeLike\" placeholder=\"请输入关联号\"\r\n                            :clearable=\"true\"></el-input>\r\n                    </el-form-item>\r\n\r\n                </el-form>\r\n            </div>\r\n\r\n        </el-card>\r\n\r\n\r\n\r\n        <PaginationTable ref=\"PaginationTableId\" url=\"/Integral/List\" :column=\"dataColum\" :where=\"where\">\r\n            <template v-slot:header>\r\n                <el-button type=\"primary\" size=\"mini\" plain icon=\"el-icon-edit\"\r\n                    @click=\"OverdueTimesClear()\">积分兑换逾期次数</el-button>\r\n            </template>\r\n\r\n        </PaginationTable>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport store from '@/store';\r\nimport { mapGetters } from 'vuex'\r\nexport default {\r\n    name: \"IntegralList\",\r\n    computed: {\r\n        ...mapGetters([\r\n            'Token', 'UserInfo', 'RoleType', 'HasUserInfo', 'ColumnType', \"UserId\"\r\n        ])\r\n    },\r\n    data() {\r\n\r\n        return {\r\n            where: {\r\n                UserId: store.getters.UserId\r\n            },\r\n            searchForm: {},//搜索定义的数据对象\r\n            dataColum: [\r\n                {\r\n                    key: \"Id\",\r\n                    hidden: true,\r\n\r\n                },\r\n                {\r\n                    key: \"Title\",\r\n                    title: \"标题\",\r\n\r\n                    type: store.getters.ColumnType.SHORTTEXT,\r\n                },\r\n                {\r\n                    key: \"UserId\",\r\n                    hidden: true,\r\n                },\r\n                {\r\n                    key: \"UserDto.Name\",\r\n                    title: \"用户名称\",\r\n\r\n                    type: store.getters.ColumnType.SHORTTEXT,\r\n                },\r\n                {\r\n                    key: \"IntegralValue\",\r\n                    title: \"积分值\",\r\n\r\n                    type: store.getters.ColumnType.SHORTTEXT,\r\n                },\r\n                {\r\n                    key: \"Source\",\r\n                    title: \"来源\",\r\n\r\n                    type: store.getters.ColumnType.SHORTTEXT,\r\n                },\r\n                {\r\n                    key: \"RelativeCode\",\r\n                    title: \"关联号\",\r\n\r\n                    type: store.getters.ColumnType.SHORTTEXT,\r\n                },\r\n\r\n            ],\r\n\r\n            formData: {\r\n\r\n            },//保存或者修改定义的数据对象\r\n            editorShow: false,\r\n            MyIntegralData: {\r\n                TotalIntegral: 0\r\n            }\r\n\r\n        };\r\n    },\r\n    created() {\r\n        this.GetMyIntegralData();\r\n\r\n    },\r\n    methods: {\r\n        //返回上一个页面\r\n        goBack() {\r\n            this.$router.go(-1)\r\n        },\r\n        /**\r\n         * 点击表格搜索按钮会触发\r\n         */\r\n        async SearchClick() {\r\n            this.$refs.PaginationTableId.Reload(this.searchForm);\r\n        },\r\n        /**\r\n         * 点击清空表单会触发\r\n         */\r\n        async ResetClick() {\r\n            this.searchForm = {};\r\n            this.$refs.PaginationTableId.Reload(this.searchForm);\r\n        },\r\n        //得到我的积分数据\r\n        async GetMyIntegralData() {\r\n            let { Data } = await this.$Post(\"/Integral/GetMyIntegralData\", {})\r\n            this.MyIntegralData = Data;\r\n        },\r\n        //清空逾期次数\r\n        async OverdueTimesClear() {\r\n            let confirm = await this.$comm.ConfirmMessageBox({ content: \"你确定要用积分清空逾期次数吗?\" })\r\n            if (confirm) {\r\n                let { Data } = await this.$Post(\"/Integral/OverdueTimesClear\", {})\r\n                this.GetMyIntegralData();\r\n                this.$refs.PaginationTableId.Reload(this.searchForm);\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n    },\r\n};\r\n</script>"],"mappings":"AA0CA,OAAAA,KAAA;AACA,SAAAC,UAAA;AACA;EACAC,IAAA;EACAC,QAAA;IACA,GAAAF,UAAA,EACA,uEACA;EACA;EACAG,KAAA;IAEA;MACAC,KAAA;QACAC,MAAA,EAAAN,KAAA,CAAAO,OAAA,CAAAD;MACA;MACAE,UAAA;MAAA;MACAC,SAAA,GACA;QACAC,GAAA;QACAC,MAAA;MAEA,GACA;QACAD,GAAA;QACAE,KAAA;QAEAC,IAAA,EAAAb,KAAA,CAAAO,OAAA,CAAAO,UAAA,CAAAC;MACA,GACA;QACAL,GAAA;QACAC,MAAA;MACA,GACA;QACAD,GAAA;QACAE,KAAA;QAEAC,IAAA,EAAAb,KAAA,CAAAO,OAAA,CAAAO,UAAA,CAAAC;MACA,GACA;QACAL,GAAA;QACAE,KAAA;QAEAC,IAAA,EAAAb,KAAA,CAAAO,OAAA,CAAAO,UAAA,CAAAC;MACA,GACA;QACAL,GAAA;QACAE,KAAA;QAEAC,IAAA,EAAAb,KAAA,CAAAO,OAAA,CAAAO,UAAA,CAAAC;MACA,GACA;QACAL,GAAA;QACAE,KAAA;QAEAC,IAAA,EAAAb,KAAA,CAAAO,OAAA,CAAAO,UAAA,CAAAC;MACA,EAEA;MAEAC,QAAA,GAEA;MAAA;MACAC,UAAA;MACAC,cAAA;QACAC,aAAA;MACA;IAEA;EACA;EACAC,QAAA;IACA,KAAAC,iBAAA;EAEA;EACAC,OAAA;IACA;IACAC,OAAA;MACA,KAAAC,OAAA,CAAAC,EAAA;IACA;IACA;AACA;AACA;IACA,MAAAC,YAAA;MACA,KAAAC,KAAA,CAAAC,iBAAA,CAAAC,MAAA,MAAArB,UAAA;IACA;IACA;AACA;AACA;IACA,MAAAsB,WAAA;MACA,KAAAtB,UAAA;MACA,KAAAmB,KAAA,CAAAC,iBAAA,CAAAC,MAAA,MAAArB,UAAA;IACA;IACA;IACA,MAAAa,kBAAA;MACA;QAAAU;MAAA,eAAAC,KAAA;MACA,KAAAd,cAAA,GAAAa,IAAA;IACA;IACA;IACA,MAAAE,kBAAA;MACA,IAAAC,OAAA,cAAAC,KAAA,CAAAC,iBAAA;QAAAC,OAAA;MAAA;MACA,IAAAH,OAAA;QACA;UAAAH;QAAA,eAAAC,KAAA;QACA,KAAAX,iBAAA;QACA,KAAAM,KAAA,CAAAC,iBAAA,CAAAC,MAAA,MAAArB,UAAA;MACA;IACA;EAKA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}